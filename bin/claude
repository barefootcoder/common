#!/usr/bin/env perl

use myperl;

my $ME = 'claude';
my $CLAUDE_PATH = '/var/npm/bin/claude';

# Check if docker is in user's groups
my @groups = split /\s+/, `groups`;
my $has_docker = grep { $_ eq 'docker' } @groups;

if ($has_docker)
{
	exec $CLAUDE_PATH, @ARGV;
}
else
{
	exec 'sg', 'docker', $CLAUDE_PATH, @ARGV;
}