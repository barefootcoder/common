alias vc ~/proj/VCtools/bin/vc
if ( $?tcsh_reset ) then
	# refresh VCtools shell completion files
	vc shell-complete >~/.tcshrc.complete.vc
endif
source ~/.tcshrc.complete.vc

alias vcd 'cd `vc info -P "\!*" project:root` ; setenv VCTOOLS_SHELL vc ; resrc'
complete vcd 'p/1/`vc info project:all`/'

if ( $?VCTOOLS_SHELL ) then
	alias st vc stat
	alias sync vc sync
	alias vpush vc push
	alias stg vc stage
	alias istg git add -i
	alias commit vc commit
	alias unget vc unget
	alias branches vc show-branches
	alias unbranch vc unbranch
	alias vmerge vc merge
	alias resolved vc resolved
	alias stash vc stash
	alias unstash vc unstash

	alias branch vbranch

	alias vd git diff
	alias vnew git add -N
	alias vdel git rm
	set top_space='echo "\n\n\n\n\n\n\n\n\n"'
	set filter_line_too_long="perl -pe 's/:.{512,}/:<<LINE TOO LONG!>>/'"
	set always_ignore="--ignore-dir tmp --ignore-dir extlib --ignore-dir var"
	set code_ignore="$always_ignore --ignore-dir t --ignore-dir tlib"
	alias vg "$top_space ; ack $always_ignore --match \!* | $filter_line_too_long"
	alias vgl "$top_space ; ack --perl $code_ignore --match \!* | $filter_line_too_long"
	alias vlog git-helper-log
	alias vbranch git-helper-branch
	alias testclean 'git stash save ; t ; git stash pop'
endif
